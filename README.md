--------------------------------------------------------------------------------

# AIagent

AIagent는 자연어 지시를 이용해 다양한 컴퓨터 작업을 자동화하는 도구입니다. Windows와 macOS 환경에서 모두 동작하며, Docker를 통해 확장된 방식으로도 사용할 수 있습니다.

--------------------------------------------------------------------------------

## 핵심 기능

- 직관적인 컴퓨터 제어  
  "영상 편집 부탁해" 또는 "문서 정리해줘"와 같이 일상 언어로 지시하면, AI가 해당 작업을 대신 실행합니다.

- 광범위한 업무 자동화  
  파일 관리, 이미지 편집, 문서 작성 등 번거롭거나 복잡한 작업을 AI가 처리해 줍니다.

- 다중 운영체제 지원  
  Windows와 macOS를 모두 지원하므로, 원하는 시스템에서 자유롭게 활용이 가능합니다.

- 실시간 상태 모니터링  
  AI가 진행 중인 작업을 한눈에 확인할 수 있는 직관적인 인터페이스를 제공합니다.

--------------------------------------------------------------------------------

## 필요 환경

- Node.js (최신 LTS 버전 권장)
- Docker (선택적이지만 권장)
- 운영체제: Windows 또는 macOS

--------------------------------------------------------------------------------

## 설치 및 준비

### 1. Node.js 설치
- Node.js 공식 웹사이트(https://nodejs.org/)에서 최신 LTS 버전을 다운로드 및 설치합니다.

### 2. Docker 설치
- Docker Desktop(https://www.docker.com/)에서 최신 버전을 다운로드하여 시스템에 설치합니다.

### 3. Docker 이미지 빌드

#### macOS
```
git clone https://github.com/m-ill/aiagent.git && cd aiagent/my-docker-app
docker build --platform linux/x86_64 -t my-node-ubuntu .
```

#### Windows
1. 윈도우 검색창에서 "PowerShell"을 검색하여 관리자 권한으로 실행합니다.
2. 아래 명령어를 순서대로 입력합니다:
   ```
   # 실행 정책 변경
   Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy RemoteSigned -Force

   # 디렉토리 생성
   New-Item -ItemType Directory -Path "my-docker-app" -Force

   # 작업 디렉토리 이동
   cd my-docker-app

   # Dockerfile 다운로드
   Invoke-WebRequest -Uri "https://raw.githubusercontent.com/m-ill/aiagent/main/my-docker-app/Dockerfile" -OutFile "Dockerfile"

   # Docker 이미지 빌드
   docker build --platform linux/x86_64 -t my-node-ubuntu .

   # End
   ```

### 4. aiagent 설치

#### Windows
1. 윈도우 검색창에서 "PowerShell"을 실행합니다.
2. 아래 명령어를 복사하여 붙여넣고 Enter 키를 누릅니다:
   ```
   npm install -g https://github.com/m-ill/aiagent.git
   ```

#### macOS
1. Spotlight (Cmd + Space)에서 "터미널"을 검색해 실행합니다.
2. 터미널 창이 열리면 다음 명령어를 실행합니다:
   ```
   sudo npm install -g https://github.com/m-ill/aiagent.git
   ```
3. 관리자 비밀번호를 묻는 메시지가 나타나면 Mac 로그인 암호를 입력합니다.

--------------------------------------------------------------------------------

## 환경 설정

AIagent는 Anthropic의 Claude 모델을 사용합니다.

### 1. API 키 발급
1. Claude API Console(https://console.anthropic.com/settings/keys)에 접속하여 계정을 생성하고 로그인합니다.
2. 결제 설정 페이지(https://console.anthropic.com/settings/billing)에서 신용카드 정보를 등록합니다.
3. API 키를 발급받습니다.

### 2. 설정 명령어

```
# Claude API 키 등록
aiagent config claudeApiKey "sk-ant-api..."

# AI 모델 설정 (예시)
aiagent config model "claude-3-5-haiku-20241022"  # 빠르고 경제적인 모델
# 또는
aiagent config model "claude-3-5-sonnet-20241022" # 보다 정교한 작업 처리

# 반복 횟수 및 출력 디렉토리 옵션
aiagent config maxIterations 0                # 0=무제한 반복
aiagent config overwriteOutputDir false       # 출력 디렉토리 덮어쓰기 여부

# Docker 설정 (선택사항)
aiagent config useDocker true                 # Docker 사용 여부
aiagent config dockerImage "my-node-ubuntu"   # Docker 이미지 이름
aiagent config dockerWorkDir "/home/ubuntu/work" # Docker 작업 디렉토리
```

--------------------------------------------------------------------------------

## 사용 가이드

### 기본 실행 구조

```
aiagent "<작업_설명>" <입력_경로> <출력_경로>
```
- 작업_설명: 수행할 작업을 자연어로 표현 (또는 텍스트 파일 경로)
- 입력_경로: 작업에 필요한 파일이 있는 디렉토리 (생략 가능)
- 출력_경로: 결과물을 저장할 디렉토리 (별도 지정이 없으면 자동 생성)

### 추가 예시

1. 텍스트 파일에 작업 지시  
   ```
   # task.txt에 작업 내용을 작성했다면:
   aiagent "task.txt" ./data ./output
   ```

### 작업 설명 작성 팁
- 구체적으로 작성: 원하는 결과를 명확하게 설명합니다.
- 단계별로 분할: 복잡한 작업은 여러 단계로 나누어 작성합니다.
- 조건 명시: 특별한 조건이나 제약이 있다면 정확히 기술합니다.

--------------------------------------------------------------------------------

## 안전 주의사항

1. 데이터 백업  
   중요한 파일은 반드시 미리 백업하십시오. 자동화 과정에서 예기치 못한 오류로 데이터가 손실될 수 있습니다.

2. 보안 및 인터넷 연결  
   AI가 인터넷에 연결될 수 있으므로, 외부 연결을 원치 않을 경우 네트워크 설정이나 가상환경을 주의 깊게 관리해야 합니다.

3. 비용  
   Claude API 사용 시 (https://www.anthropic.com/pricing#anthropic-api)에 명시된 요금이 청구될 수 있으므로 결제 설정에 유의하세요.

--------------------------------------------------------------------------------

## 문제 해결 가이드

1. 일반 오류
   - API 키 설정이 올바른지 확인합니다.
   - 작업 디렉토리 또는 권한이 올바른지 점검합니다.

2. Docker 관련
   - Docker Desktop이 정상 실행 중인지 확인합니다.
   - Docker 이미지 빌드가 완료되었는지, 이미지가 존재하는지 확인합니다.
   - 메모리/CPU 등 시스템 자원에 여유가 있는지 확인합니다.

--------------------------------------------------------------------------------

## 라이선스

본 프로젝트는 MIT License (LICENSE 파일 참조)에 따라 배포됩니다.

--------------------------------------------------------------------------------

# 코드 참조 및 개선

본 프로젝트의 일부 코드는 aiexeauto 레포지토리(https://github.com/kstost/aiexeauto)에서 발췌하여 다음과 같은 방식으로 개선되었습니다:

- 구조화된 코드 패턴: 원본 코드를 바탕으로 모듈화를 진행해 유지보수성 및 확장성을 높였습니다.
- Docker 연동 최적화: Docker 컨테이너 생성 및 종료 로직을 간소화하여 운영에 필요한 리소스를 최소화했습니다.
- 에러 처리 강화: 파일 접근 오류, 경로 오류 등 예기치 못한 예외 상황을 처리하기 위한 루틴을 추가했습니다.
- UI/UX 개선: 콘솔 스피너, 컬러 출력, 박스 스타일(boxen) 등을 도입해 작업 진행 상태를 직관적으로 확인할 수 있게 했습니다.

원본 프로젝트에 대한 더욱 자세한 내용은 aiexeauto GitHub 저장소에서 확인하실 수 있습니다.

--------------------------------------------------------------------------------

## 기여 안내

- 버그 보고, 기능 제안, 풀 리퀘스트 모두 환영합니다.
- GitHub 이슈 트래커를 사용하여 아이디어를 제안하거나, 코드 수정 시에는 테스트 코드와 함께 풀 리퀘스트를 제출해 주세요.

--------------------------------------------------------------------------------

## 면책 조항

프로젝트 사용으로 인해 발생할 수 있는 모든 문제(데이터 손실, 시스템 에러 등)에 대해서는 사용자 본인에게 책임이 있습니다. 중요한 데이터나 시스템에 적용하기 전 충분히 테스트하고 사용해 주세요.

--------------------------------------------------------------------------------

